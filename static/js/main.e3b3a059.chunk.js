(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{235:function(e,t){},237:function(e,t){},251:function(e,t){},253:function(e,t){},281:function(e,t){},283:function(e,t){},284:function(e,t){},289:function(e,t){},291:function(e,t){},297:function(e,t){},299:function(e,t){},318:function(e,t){},330:function(e,t){},333:function(e,t){},351:function(e,t,n){},352:function(e,t,n){},377:function(e,t,n){},378:function(e,t,n){},379:function(e,t,n){},380:function(e,t,n){},381:function(e,t,n){},384:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),a=n(14),r=n.n(a),o=n(11),s=n(1),l=i.a.createContext();var u=function(e){var t=Object(c.useState)(4),n=Object(o.a)(t,2),i=n[0],a=n[1],r=Object(c.useState)(!1),u=Object(o.a)(r,2),d=u[0],j=u[1],b={numberOfItems:i,showCompleted:d,setNumberOfItems:function(e){a(e)},setCompleted:function(e){j(e)}};return Object(s.jsx)(l.Provider,{value:b,children:e.children})},d=n(85),j=n.n(d),b=n(86),O=n.n(b),m=i.a.createContext(),f={admin:{username:"admin",password:"test",role:"admin",capabilities:["create","read","update","delete"]},editor:{username:"editor",password:"test",role:"editor",capabilities:["read","update"]},writer:{username:"writer",password:"test",role:"writer",capabilities:["create"]}},h=Object({NODE_ENV:"production",PUBLIC_URL:"/todo-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SECRET||"secretstring";var p=function(e){var t=e.children,n=Object(c.useState)(null),i=Object(o.a)(n,2),a=i[0],r=i[1],l=Object(c.useState)(!1),u=Object(o.a)(l,2),d=u[0],b=u[1],p=Object(c.useState)({}),x=Object(o.a)(p,2),g=x[0],v=x[1],C={isLoggedIn:d,user:g,isAuthorized:function(e){var t;return null===g||void 0===g||null===(t=g.capabilities)||void 0===t?void 0:t.includes(e)},login:function(e,t){var n=f[e];if(n&&n.password===t){S(j.a.sign(n,h))}},logout:function(){d&&I(!1,null,{})},token:a,validateToken:S,setLogInState:I};function S(e){try{var t=j.a.verify(e,h);console.log("validate Token User:",t),I(!0,e,t)}catch(n){I(!1,null,{}),console.log("Error validating token:",n)}}function I(e,t,n){O.a.save("auth",t),b(e),r(t),v(n)}return Object(c.useEffect)((function(){var e=new URLSearchParams(window.location.search),t=O.a.load("auth"),n=e.get("token")||t||null;S(n),console.log("useeffect token:",n)}),[]),Object(s.jsx)(m.Provider,{value:C,children:t})},x=n(165),g=n(166),v=n(172),C=n(170),S=(n(351),n(171)),I=n(56),w=n(87),y=function(e){var t=Object(c.useState)({}),n=Object(o.a)(t,2),i=n[0],a=n[1];return{handleChange:function(e){e.persist(),a((function(t){return Object(w.a)(Object(w.a)({},t),{},Object(I.a)({},e.target.name,e.target.value))}))},handleSubmit:function(t){t&&t.preventDefault(),e(i)},values:i}},T=n(389),k=n(388),D=n(42);n(352);var E=function(e){return Object(s.jsx)(k.c,{id:"navBar",children:Object(s.jsxs)(k.c.Group,{align:D.a.LEFT,children:[Object(s.jsxs)(k.c.Heading,{id:"heading",children:["To Do List: ",e.incomplete," items pending"]}),Object(s.jsx)(k.c.Divider,{})]})})};n(377);var L=function(e){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(s.jsx)("h2",{children:"Add To Do Item"}),Object(s.jsxs)("label",{children:[Object(s.jsx)("span",{children:"To Do Item"}),Object(s.jsx)("input",{onChange:e.handleChange,name:"text",type:"text",placeholder:"Item Details"})]}),Object(s.jsxs)("label",{children:[Object(s.jsx)("span",{children:"Assigned To"}),Object(s.jsx)("input",{onChange:e.handleChange,name:"assignee",type:"text",placeholder:"Assignee Name"})]}),Object(s.jsxs)("label",{children:[Object(s.jsx)("span",{children:"Difficulty"}),Object(s.jsx)("input",{onChange:e.handleChange,defaultValue:3,type:"range",min:1,max:5,name:"difficulty"})]}),Object(s.jsx)("label",{children:Object(s.jsx)("button",{type:"submit",children:"Add Item"})})]})})},P=n(21),A=(n(378),function(e){var t=Object(c.useContext)(l);return Object(s.jsxs)(k.b,{id:"todoCard",interactive:!0,elevation:P.a.FOUR,children:[Object(s.jsx)("h5",{children:e.item.text}),Object(s.jsx)("p",{children:Object(s.jsxs)("small",{children:["Assigned to: ",e.item.assignee]})}),Object(s.jsx)("p",{children:Object(s.jsxs)("small",{children:["Difficulty: ",e.item.difficulty]})}),Object(s.jsxs)(k.a,{id:"complete",onClick:function(){e.toggleComplete(e.item.id),!0===e.item.complete&&"false"===t.showCompleted&&e.deleteItem(e.item.id)},children:["Complete: ",e.item.complete.toString()]}),Object(s.jsx)(k.a,{id:"delete",onClick:function(){return e.deleteItem(e.item.id)},children:"Delete"})]},e.item.id)});n(379);var _=function(e){var t=Object(c.useContext)(l),n=Object(c.useState)(1),i=Object(o.a)(n,2),a=i[0],r=i[1];function u(e){"next"!==e.target.id?"prev"!==e.target.id||r(a-1):r(a+1)}var d=a*t.numberOfItems,j=d-t.numberOfItems,b=e.list.slice(j,d);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{id:"cardContainer",children:b.map((function(t){return Object(s.jsx)(A,{item:t,toggleComplete:e.toggleComplete,deleteItem:e.deleteItem},t.id)}))}),Object(s.jsxs)("div",{id:"nextPrevButtons",children:[a>1?Object(s.jsx)("button",{id:"prev",onClick:u,type:"button",children:"Back"}):null,e.list.length>t.numberOfItems?Object(s.jsx)("button",{id:"next",onClick:u,type:"button",children:"Next"}):null]})]})};n(380);var F=function(){var e=Object(c.useContext)(l),t=Object(c.useState)(!1),n=Object(o.a)(t,2),i=n[0],a=n[1];return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=JSON.stringify({numberOfItems:e.numberOfItems,showCompleted:e.showCompleted});localStorage.setItem("userPreferences",n)},children:[Object(s.jsx)("h2",{children:"Change Your View"}),Object(s.jsxs)(k.e,{label:"Show Completed Tasks?",onChange:function(t){e.setCompleted(t.target.value),console.log(e.showCompleted),a(t.currentTarget.value)},selectedValue:i,children:[Object(s.jsx)(k.d,{label:"Yes",value:"true"}),Object(s.jsx)(k.d,{label:"No",value:"false"})]}),Object(s.jsxs)("label",{children:[Object(s.jsx)("span",{children:"Tasks per page"}),Object(s.jsx)("input",{onChange:function(t){e.setNumberOfItems(parseInt(t.target.value))},min:"0",step:"1",name:"tasksPerPage",type:"number"})]}),Object(s.jsx)("label",{children:Object(s.jsx)("button",{type:"submit",children:"Add Item"})})]})})},N=(n(381),function(){var e=Object(c.useContext)(l),t=Object(c.useState)([]),n=Object(o.a)(t,2),i=n[0],a=n[1],r=Object(c.useState)([]),u=Object(o.a)(r,2),d=u[0],j=u[1],b=y((function(e){e.id=Object(T.a)(),e.complete=!1,i.includes(e)?alert("That to-do item already exsists!"):a([].concat(Object(S.a)(i),[e]))})),O=b.handleChange,m=b.handleSubmit;return Object(c.useEffect)((function(){var e=i.filter((function(e){return!e.complete})).length;j(e),document.title="To Do List: ".concat(d)}),[i]),Object(c.useEffect)((function(){var t=localStorage.getItem("userPreferences");if(t){var n=JSON.parse(t);console.log("local storage",n),e.setNumberOfItems(n.numberOfItems),e.setCompleted(n.showCompleted)}}),[]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(E,{incomplete:d}),Object(s.jsxs)("div",{id:"formContainer",children:[Object(s.jsx)(F,{}),Object(s.jsx)(L,{handleSubmit:m,handleChange:O})]}),Object(s.jsx)(_,{list:i,toggleComplete:function(e){var t=i.map((function(t){return t.id===e&&(t.complete=!t.complete),t}));a(t)},deleteItem:function(e){var t=i.filter((function(t){return t.id!==e}));a(t)}})]})}),R=n(44);var B=function(){var e=Object(c.useContext)(m),t=Object(c.useState)(""),n=Object(o.a)(t,2),i=n[0],a=n[1],r=Object(c.useState)(""),l=Object(o.a)(r,2),u=l[0],d=l[1];function j(e){var t=e.target,n=t.name,c=t.value;"username"===n&&a(c),"password"===n&&d(c)}return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(R.a,{condition:e.isLoggedIn,children:Object(s.jsx)("button",{onClick:e.logout,children:"Log Out"})}),Object(s.jsx)(R.a,{condition:!e.isLoggedIn,children:Object(s.jsxs)("form",{onSubmit:function(t){console.log("submit"),t.preventDefault(),e.login(i,u)},children:[Object(s.jsx)("input",{placeholder:"username",name:"username",onChange:j}),Object(s.jsx)("input",{placeholder:"password",name:"password",onChange:j}),Object(s.jsx)("button",{type:"submit",children:"Login"})]})})]})};var U=function(e){var t=Object(c.useContext)(m),n=t.isLoggedIn,i=!e.capability||t.isAuthorized(e.capability),a=n&&i;return Object(s.jsx)(R.a,{condition:a,children:e.children})},H=function(e){Object(v.a)(n,e);var t=Object(C.a)(n);function n(){return Object(x.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(B,{}),Object(s.jsx)(U,{children:Object(s.jsx)(N,{})})]})}}]),n}(i.a.Component);n(382),n(383);r.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(u,{children:Object(s.jsx)(p,{children:Object(s.jsx)(H,{})})})}),document.getElementById("root"))}},[[384,1,2]]]);
//# sourceMappingURL=main.e3b3a059.chunk.js.map